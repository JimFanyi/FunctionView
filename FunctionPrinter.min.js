!function(t,_){"object"==typeof exports&&"undefined"!=typeof module?module.exports=_():"function"==typeof define&&define.amd?define(_):t.FunctionPrinter=_()}(this,function(){function t(t,_){this.__cvs=null,this.__ctx=null,this.Init(t,_)}return t.prototype.SetBackground=function(){this.__ctx.fillStyle=this.__cvs_backgound_color,this.__ctx.fillRect(0,0,this.__cvs_wdt,this.__cvs_hgt)},t.prototype.DrawAxis=function(){[[this.__start_point[0],0,this.__cvs_axis_opts.y.color,this.__cvs_axis_opts.y.width],[this.__start_point[0],this.__cvs_hgt,this.__cvs_axis_opts.y.color,this.__cvs_axis_opts.y.width],[0,this.__start_point[1],this.__cvs_axis_opts.x.color,this.__cvs_axis_opts.x.width],[this.__cvs_wdt,this.__start_point[1],this.__cvs_axis_opts.x.color,this.__cvs_axis_opts.x.width]].forEach(t=>{this.__ctx.beginPath(),this.__ctx.strokeStyle=t[2],this.__ctx.lineWidth=t[3],this.__ctx.moveTo(this.__start_point[0],this.__start_point[1]),this.__ctx.lineTo(t[0],t[1]),this.__ctx.stroke(),this.__ctx.closePath()})},t.prototype.DrawMark=function(i,e,s,o){var n=this.__cvs_mark_opts,a=n.x.accuracy,c=n.y.accuracy;this.__ctx.font=n.y.font.size+"px "+n.y.font.family,this.__ctx.lineWidth=n.y.line.lineWidth,this.__ctx.textBaseline="middle",this.__ctx.textBaseline="center";for(let t=0<e?this.__start_point_values[1]-+c:this.__start_point_values[1],_=(this.__ctx.beginPath(),this.__start_point[1]);0<_;)t+=n.y.accuracy,this.__maximum_point.y[0]=t,_=this.__start_point[1]-Math.abs((t-this.__start_point_values[1])/c*n.y.line.accuracy)+e,this.__ctx.strokeStyle=n.y.line.color,this.__ctx.lineWidth=n.y.line.lineWidth,this.__ctx.moveTo(this.__start_point[0]+(0<o?1:-1),_),this.__ctx.lineTo(this.__start_point[0]+o,_),this.__ctx.stroke(),this.__ctx.strokeStyle=n.y.font.color,this.__ctx.lineWidth=n.y.font.weight,this.__ctx.strokeText(t,this.__start_point[0]+o+(0<o?5:-1*this.__ctx.measureText(t).width-5),_);for(let t=e<0?this.__start_point_values[1]+ +c:this.__start_point_values[1],_=this.__start_point[1];_<this.__cvs_hgt;)t-=n.y.accuracy,this.__maximum_point.y[1]=t,_=this.__start_point[1]+Math.abs((t-this.__start_point_values[1])/c*n.y.line.accuracy)+e,this.__ctx.strokeStyle=n.y.line.color,this.__ctx.lineWidth=n.y.line.lineWidth,this.__ctx.moveTo(this.__start_point[0]+(0<o?1:-1),_),this.__ctx.lineTo(this.__start_point[0]+o,_),this.__ctx.stroke(),this.__ctx.strokeStyle=n.y.font.color,this.__ctx.lineWidth=n.y.font.weight,this.__ctx.strokeText(t,this.__start_point[0]+o+(0<o?5:-1*this.__ctx.measureText(t).width-5),_);this.__ctx.closePath(),this.__ctx.font=n.x.font.size+"px "+n.x.font.family;for(let t=0<i?this.__start_point_values[0]+ +a:this.__start_point_values[0],_=(this.__ctx.beginPath(),this.__start_point[1]);0<_;)t-=n.x.accuracy,this.__maximum_point.x[1]=t,_=this.__start_point[0]-Math.abs((t-this.__start_point_values[0])/a*n.x.line.accuracy)+i,this.__ctx.strokeStyle=n.x.line.color,this.__ctx.lineWidth=n.x.line.lineWidth,this.__ctx.moveTo(_,this.__start_point[1]+(0<s?1:-1)),this.__ctx.lineTo(_,this.__start_point[1]-s),this.__ctx.stroke(),this.__ctx.strokeStyle=n.x.font.color,this.__ctx.lineWidth=n.x.font.weight,this.__ctx.strokeText(t,_-this.__ctx.measureText(t).width/2,this.__start_point[1]-s+(0<s?-10:10));for(let t=i<0?this.__start_point_values[0]-+a:this.__start_point_values[0],_=this.__start_point[0];_<this.__cvs_wdt;)t+=n.x.accuracy,this.__maximum_point.x[0]=t,_=this.__start_point[0]+Math.abs((t-this.__start_point_values[0])/a*n.x.line.accuracy)+i,this.__ctx.strokeStyle=n.x.line.color,this.__ctx.lineWidth=n.x.line.lineWidth,this.__ctx.moveTo(_,this.__start_point[1]+(0<s?1:-1)),this.__ctx.lineTo(_,this.__start_point[1]-s),this.__ctx.stroke(),this.__ctx.strokeStyle=n.x.font.color,this.__ctx.lineWidth=n.x.font.weight,this.__ctx.strokeText(t,_-this.__ctx.measureText(t).width/2,this.__start_point[1]-s+(0<s?-10:10));this.__ctx.closePath(),this.__ctx.strokeText("O",this.__start_point[0]+(0<=i?-15:15),this.__start_point[1]+(e<=0?15:-15))},t.prototype.ParseParams=function(t){let _=(t=t||{}).axis||{},i=t.mark||{},e=t.zoom||{},s=t.events||[],o=t.points||null,n=t.tipline||null;if(i.x=i.x||{},i.y=i.y||{},_.x=_.x||{},_.y=_.y||{},i.x.line=i.x.line||{},i.y.line=i.y.line||{},i.x.font=i.x.font||{},i.y.font=i.y.font||{},this.__cvs_accuracy=t.accuracy||.1,this.__cvs_backgound_color=t.backgroundColor||"#ffffff",this.__cvs_axis_opts={x:{color:_.x.color||"#000000",width:_.x.lineWidth||1.5},y:{color:_.y.color||"#000000",width:_.y.lineWidth||1.5}},this.__cvs_mark_opts={x:{line:{accuracy:i.x.line.accuracy||30,lineWidth:i.x.line.lineWidth||1.5,width:i.x.line.width||10,color:i.x.line.color||"#000000"},font:{size:i.x.font.size||14,color:i.x.font.color||"#000000",family:i.x.font.family||"微软雅黑",weight:i.x.font.weight||1.5},accuracy:i.x.accuracy||1},y:{line:{accuracy:i.y.line.accuracy||30,lineWidth:i.y.line.lineWidth||1.5,width:i.y.line.width||10,color:i.y.line.color||"#000000"},font:{size:i.y.font.size||14,color:i.y.font.color||"#000000",family:i.y.font.family||"微软雅黑",weight:i.y.font.weight||1.5},accuracy:i.y.accuracy||1}},this.__zoom_opts={max:e.max||0,min:e.min||0,accuracy:e.accuracy||0},this.__events_opts=s,o&&(this.__point_opts={size:0<o.size?o.size:5,solid:Boolean(o.solid)}),n)switch(this.__line_opts={color:n.color||"auto",width:n.width||3,animate:n.animate||!1,type:n.type||[4,2]},this.__line_opts.type){case"chain":this.__line_opts.type=[15,3,3,3];break;case"dotted":this.__line_opts.type=[10,10]}this.__sync_ele=t.syncEle},t.prototype.AnimationDraw=function(t,_,i){-1!==(t=this.GetAnimationList(_,t,i)).findIndex(t=>!t.reline)&&(Array.prototype.push.apply(this.__animate_queue,t.slice(1)),this.__animate_queue=this.__animate_queue.sort(function(t,_){return t.time-_.time}),this.CreateTimer(_))},t.prototype.GetAnimationList=function(i,e,s){var o=this.__function_list[i].animate;t:for(let _=1;_<e.length;_++)if(e[_].reline){let t=_;for(;++t<e.length;){if(!e[t])break t;if(!e[t].reline){e[t+1].prev={x:e[t].pos.x,y:e[t].pos.y},e[t+1].color=this.__function_list[i].color,e[t+1].lineWidth=this.__function_list[i].lineWidth,e[t+1].time=this.__cache_time+s*o+o*_,e.splice(_,t-_+1),t=0;break}}0<t&&e.splice(_,t-_+1)}else e[_].prev={x:e[_-1].pos.x,y:e[_-1].pos.y},e[_].color=this.__function_list[i].color,e[_].lineWidth=this.__function_list[i].lineWidth,e[_].time=this.__cache_time+s*o+o*_;return e},t.prototype.FastDraw=function(e){let s=[],o=null,n=this,a=(n.__function_list[e].color,n.__function_list[e].lineWidth,n.__function_list[e].animate),c=0;Array.prototype.push.apply(s,this.__fn_points_list[e]),s=this.GetAnimationList(e,s,0),this.__ctx.moveTo(s[0].pos.x,s[0].pos.y),s.shift(),-1!==s.findIndex(t=>!t.reline)&&(o=window.requestAnimationFrame(function t(_){var i;_>=c&&n.__update_animate_flag&&(i=s.shift(),n.__ctx.beginPath(),n.__ctx.strokeStyle=i.color,n.__ctx.lineWidth=i.lineWidth,n.__ctx.moveTo(i.prev.x,i.prev.y),n.__ctx.lineTo(i.pos.x,i.pos.y),n.__ctx.closePath(),n.__ctx.stroke(),c=_+a),0<s.length&&n.__update_animate_flag?window.requestAnimationFrame(t):(n.__ctx.lineCap="butt",n.DrawPoint(e),window.cancelAnimationFrame(o))}),this.__timers.push(o))},t.prototype.BeginDraw=function(t,_,i,e,s){let o=this.__fn_points_list[t],n=this.__function_list[t].animate;0!==o.length&&(-1<n&&s?e&&0===n?this.AnimationDraw(o.slice(_,i),t,_):this.FastDraw(t):(this.__ctx.strokeStyle=this.__function_list[t].color,this.__ctx.lineWidth=this.__function_list[t].lineWidth,this.__ctx.lineCap="round",this.__ctx.beginPath(),this.__ctx.moveTo(o[_].pos.x,o[_].pos.y),o.slice(_+1,i).forEach((t,_)=>{if(t.reline){for(;++_<o.length&&o[_];)if(!o[_].reline){this.__ctx.moveTo(o[_].pos.x,o[_].pos.y);break}}else this.__ctx.lineTo(t.pos.x,t.pos.y)}),this.__ctx.stroke(),this.__ctx.closePath(),this.__ctx.lineCap="butt",this.DrawPoint(t)))},t.prototype.RePrint=function(t){t=t||!1;this.__maximum_point.y[0],this.__maximum_point.y[1];var a,c=this.__cvs_mark_opts.x.line.accuracy,r=this.__cvs_mark_opts.y.line.accuracy,l=this.__cvs_mark_opts.x.accuracy,h=this.__cvs_mark_opts.y.accuracy;for(a in this.__function_list)if(-1==this.__function_list[a].animate||!t){let e=0,s=6e3,o=this.__function_list[a].fn,n=this.__function_list[a].pft;this.__fn_points_list[a]=[];for(let i=this.__maximum_point.x[1];i<this.__maximum_point.x[0];i=function(t,_){var i,e;try{i=t.toString().split(".")[1].length}catch(t){i=0}try{e=_.toString().split(".")[1].length}catch(t){e=0}return(t*(e=Math.pow(10,Math.max(i,e)))+_*e)/e}(i,this.__cvs_accuracy),e++){let t=!1,_=i;if(y_value=o(_),y_value&&"Array"===y_value.__proto__.constructor.name&&(_=y_value[0],y_value=y_value[1]),!Number.isNaN(y_value)&&!Number.isNaN(_)&&"number"==typeof y_value){switch(!0){case!0===y_value:case y_value>h+this.__maximum_point.y[0]:case y_value<this.__maximum_point.y[1]-h:t=!0}this.__fn_points_list[a].push({value:{x:_,y:y_value},pos:{x:this.__start_point[0]+(_-this.__start_point_values[0])/l*c+this.__offset_pos.x,y:this.__start_point[1]-(y_value-this.__start_point_values[1])/h*r+this.__offset_pos.y},reline:t,scale:!1,radius:n(_,y_value)&&this.__point_opts?this.__point_opts.size:0}),e===s&&this.__function_list[a].animate&&(this.BeginDraw(a,e-6e3,e,!1,!0),s+=6e3)}}this.BeginDraw(a,6e3<e?e-6e3:0,this.__fn_points_list[a].length,!0,!0)}},t.prototype.DrawPoint=function(i){if(this.__point_opts&&this.__update_animate_flag){let t=this.__fn_points_list[i],_=this;_.__ctx.strokeStyle;t.forEach(t=>{t.reline&&0<t.radius||(_.__ctx.beginPath(),_.__ctx.strokeStyle=_.__point_opts.solid?"transparent":_.__function_list[i].color,_.__ctx.arc(t.pos.x,t.pos.y,t.radius,0,2*Math.PI,!0),_.__point_opts.solid?_.__ctx.fillStyle=_.__function_list[i].pointColor||_.__function_list[i].color:_.__ctx.fillStyle=_.__function_list[i].pointColor||"#ffffff",_.__ctx.fill(),_.__ctx.stroke(),_.__ctx.closePath())})}},t.prototype.TimerAnimate=function(){let i=this;return function t(_){i.__cache_time=_,i.__update_animate_flag&&(_=i.__animate_queue.shift(),i.__ctx.beginPath(),i.__ctx.strokeStyle=_.color,i.__ctx.lineWidth=_.lineWidth,i.__ctx.moveTo(_.prev.x,_.prev.y),i.__ctx.lineTo(_.pos.x,_.pos.y),i.__ctx.closePath(),i.__ctx.stroke()),0<i.__animate_queue.length&&i.__update_animate_flag?window.requestAnimationFrame(t):(window.cancelAnimationFrame(i.__animate_id),i.__key_queue.forEach(function(t){i.DrawPoint(t)}),i.__key_queue.splice(0,i.__key_queue.length),i.__animate_queue.splice(0,i.__animate_queue.length),i.__animate_id=null)}},t.prototype.CreateTimer=function(t){-1===this.__key_queue.indexOf(t)&&this.__key_queue.push(t),this.__animate_id||(this.__animate_id=window.requestAnimationFrame(this.TimerAnimate()),this.__timers.push(this.__animate_id))},t.prototype.DrawFunction=function(t,_,i,e,s,o,n,a){switch(e=e||"black",o=o||1.5,n=n&&"function"==typeof n?n:function(){return!1},a=a&&"function"==typeof n?a:null,i){case"quick":i=.1;break;case"middle":i=20;break;case"slow":i=30;break;case"queue":i=0;break;case void 0:i=-1}this.__function_list[t]={color:e,lineWidth:o,fn:_,animate:i,pft:n,tck:a,pointColor:s},this.RePrint()},t.prototype.RemoveFunction=function(t,_){this.__function_list[t]&&(this.__update_animate_flag=!1,this.__timers.forEach(t=>window.cancelAnimationFrame(t)),this.__timers.splice(0,this.__timers.length),delete this.__function_list[t],delete this.__fn_points_list[t],this.Clear(),this.SetBackground(),this.DrawAxis(),this.DrawMark(posX,posY,pos_x_line,pos_y_line),setTimeout(()=>{for(var t in this.__update_animate_flag=!0,this.__fn_points_list)this.BeginDraw(t,0,this.__fn_points_list[t].length,!0,_)},300))},t.prototype.Clear=function(){this.__ctx.clearRect(0,0,this.__cvs_wdt,this.__cvs_hgt)},t.prototype.BindEvent=function(){const h=this;let s=!1,c={x:0,y:0},r=[h.__start_point[0],h.__start_point[1]];if(ylineWidth=this.__cvs_axis_opts.y.width,xlineWidth=this.__cvs_axis_opts.x.width,x_accuracy=h.__cvs_mark_opts.x.line.accuracy,y_accuracy=h.__cvs_mark_opts.y.line.accuracy,xAccuracy=h.__cvs_mark_opts.x.accuracy,yAccuracy=h.__cvs_mark_opts.y.accuracy,x_line_width=this.__cvs_mark_opts.x.line.width,y_line_width=this.__cvs_mark_opts.y.line.width,posX=0,posY=0,pos_x_line=x_line_width,pos_y_line=y_line_width,timer=null,zoom_accuracy=this.__zoom_opts.accuracy,max_zoom=this.__zoom_opts.max,min_zoom=this.__zoom_opts.min,select_point={},showTip=-1<this.__events_opts.indexOf("showtip"),radius=h.__point_opts?h.__point_opts.size:0,child_element=null,showTip){const n=this.__cvs.parentElement;n.style.position="relative",child_element=document.createElement("div"),child_element.setAttribute("style",'background:rgba(0,0,0,0.7);border-radius: 5px;box-sizing: border-box;padding: 10px;display: flex;overflow: hidden;position: absolute;visibility: hidden;transition: opacity 0.2s cubic-bezier(0.23, 1, 0.32, 1) 0s, visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1) 0s, transform 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s;pointer-events: none;font: 14px / 21px "Microsoft YaHei";z-index: 9999999;    white-space: nowrap; transform:translate3d(0px, 0px, 0px);'),n.appendChild(child_element)}function _(t){t.preventDefault(),h.__update_animate_flag=!1,h.__timers.forEach(t=>window.cancelAnimationFrame(t)),h.__timers.splice(0,h.__timers.length),c.x=h.__event_type?t.changedTouches[0].pageX:t.offsetX,c.y=h.__event_type?t.changedTouches[0].pageY:t.offsetY,s=!0}function i(o){if(o.preventDefault(),s){var t,_,i=h.__event_type?o.changedTouches[0].pageX-h.__cvs.offsetLeft:o.offsetX,e=h.__event_type?o.changedTouches[0].pageY-h.__cvs.offsetTop:o.offsetY;h.__offset_move.x+=i-c.x,h.__offset_move.y+=e-c.y,t=r[0]+h.__offset_move.x,_=r[1]+h.__offset_move.y,t>h.__cvs_wdt?(h.__start_point[0]=h.__cvs_wdt-xlineWidth,posX=(t-h.__cvs_wdt)%x_accuracy,h.__start_point_values[0]=parseInt((t-h.__cvs_wdt)/x_accuracy)*xAccuracy*-1):t<0?(h.__start_point[0]=xlineWidth,posX=t%x_accuracy,h.__start_point_values[0]=parseInt(t/x_accuracy)*xAccuracy*-1):(h.__start_point[0]=t,posX=0),_>h.__cvs_hgt?(h.__start_point[1]=h.__cvs_hgt-ylineWidth,posY=(_-h.__cvs_hgt)%y_accuracy,h.__start_point_values[1]=parseInt((_-h.__cvs_hgt)/y_accuracy)*yAccuracy):_<0?(h.__start_point[1]=ylineWidth,posY=_%y_accuracy,h.__start_point_values[1]=parseInt(_/y_accuracy)*yAccuracy):(h.__start_point[1]=_,posY=0),pos_y_line=t>h.__cvs_wdt-x_line_width?-y_line_width:y_line_width,pos_x_line=_<y_line_width?-x_line_width:x_line_width,h.Clear(),h.SetBackground(),h.DrawAxis(),h.DrawMark(posX,posY,pos_x_line,pos_y_line),h.RePrint(!0),h.__offset_pos.x=posX,h.__offset_pos.y=posY,c.x=i,c.y=e}else if(h.__point_opts){for(var n in h.__fn_points_list){var a=h.__fn_points_list[n].findIndex(function(t){return o.offsetX<=t.pos.x+radius+5&&o.offsetX>=t.pos.x-radius-5&&o.offsetY<=t.pos.y+radius+5&&o.offsetY>=t.pos.y-radius-5&&"number"==typeof t.value.x&&0<t.radius});if(-1<a){if(h.__update_animate_flag=!1,select_point.key===n&&select_point.index===a)return;if(select_point.radius=radius,select_point.scale=!1,select_point=h.__fn_points_list[n][a],select_point.key=n,select_point.index=a,select_point.scale=!0,showTip){let t=h.__function_list[n].color,_=select_point.value.x,i=select_point.value.y;h.__function_list[n].tck&&(a=h.__function_list[n].tck(n,t,_,i),t=a.color||t,n=a.key||n,_=a.x||_,i=a.y||i),child_element.innerHTML=`
								<div style="width: 15px;heidivght: 100%;">
									<div style="width: 100%;height: 15px;border-radius: 50%;background-color: ${t};"></div>
								</div>
								<div style="width: calc(100% - 15px);box-sizing: border-box;padding-left:10px;padding-right: 10px;color: #ffffff;overflow: hidden;">
									<div style="vertical-align: middle;line-height: 1;margin-bottom: 10px;word-break: break-all;">
										${n}
									</div>
									<div style="vertical-align: middle;line-height: 1;margin-bottom: 10px;word-break: break-all;">
										x = ${_}
									</div>
									<div style="vertical-align: middle;line-height: 1;word-break: break-all;">
										y = ${i}
									</div>
								</div>
							`,child_element.style.visibility="visible",child_element.style.opacity=1;let e=o.offsetX+10,s=h.__cvs_hgt-o.offsetY-20;e+child_element.offsetWidth>h.__cvs_wdt&&(e=o.offsetX-child_element.offsetWidth-15),o.offsetY+child_element.offsetHeight+20>h.__cvs_hgt&&(s=h.__cvs_hgt-Math.abs(o.offsetY-child_element.offsetHeight-15)),child_element.style.transform=`translate3d(${e}px, -${s}px, 0px)`}return h.__line_opts?void function(t){let _=null,i=h.__line_opts.type.reduce((t,_)=>t*_),e=0,s=("auto"===h.__line_opts.color?h.__function_list[t.key]:h.__line_opts).color,o=h.__line_opts.animate?n:new Function;function n(){select_point.scale&&select_point.value.x===t.value.x&&select_point.value.y===t.value.y&&h.__start_point[0]!==t.pos.x&&h.__start_point[1]!==t.pos.y?(h.__line_opts.animate&&l(select_point,radius+.5*radius,3e3)(),h.__ctx.setLineDash(h.__line_opts.type),h.__ctx.lineDashOffset=e,h.__ctx.lineWidth=h.__line_opts.width,h.__ctx.beginPath(),h.__ctx.strokeStyle=s,h.__ctx.moveTo(t.pos.x,h.__start_point[1]),h.__ctx.lineTo(t.pos.x,t.pos.y+(0<t.pos.y-h.__start_point[1]?2*-radius-2:2*radius+2)),h.__ctx.moveTo(h.__start_point[0],t.pos.y),h.__ctx.lineTo(t.pos.x+(0<t.pos.x-h.__start_point[0]?2*-radius-2:2*radius+2),t.pos.y),h.__ctx.stroke(),h.__ctx.closePath(),h.__ctx.setLineDash([]),e++,e>i&&(e=0),_=setTimeout(o,10)):clearTimeout(_)}return n}(select_point)():void h.__timers.push(window.requestAnimationFrame(l(select_point,radius+.5*radius,3e3)))}}select_point.scale&&(select_point.scale=!1,select_point.radius=radius,window.requestAnimationFrame(l(select_point,5,1e3))),select_point={scale:!1,radius:radius,value:{}},select_point.key=select_point.index=null,showTip&&(child_element.style.opacity=0,child_element.style.visibility="hidden")}}function l(t,n,a){let c=null,r=Date.now(),l=n+select_point.radius;return function t(_,i){for(var e in h.__update_animate_flag=!0,h.Clear(),h.SetBackground(),h.DrawAxis(),h.DrawMark(posX,posY,pos_x_line,pos_y_line),h.__fn_points_list)h.BeginDraw(e,0,h.__fn_points_list.length,!0,!1);var s,o;select_point.radius<n&&select_point.scale?(select_point.radius=(s=Date.now()-r,o=select_point.radius,-l*(s/=a)*(s-2)+o),c=window.requestAnimationFrame(t)):window.cancelAnimationFrame(c)}}function e(t){t.preventDefault(),s=!1,h.__update_animate_flag=!0,h.Clear(),h.SetBackground(),h.DrawAxis(),h.DrawMark(posX,posY,pos_x_line,pos_y_line),h.RePrint()}function o(t){t.preventDefault(),repeat_wheel_flag=!0,0<t.wheelDelta/120?(h.__cvs_mark_opts.x.line.accuracy+=zoom_accuracy,h.__cvs_mark_opts.y.line.accuracy+=zoom_accuracy,h.__cvs_mark_opts.y.line.accuracy>max_zoom&&(h.__cvs_mark_opts.x.line.accuracy=max_zoom,h.__cvs_mark_opts.y.line.accuracy=max_zoom)):(h.__cvs_mark_opts.x.line.accuracy-=zoom_accuracy,h.__cvs_mark_opts.y.line.accuracy-=zoom_accuracy,h.__cvs_mark_opts.y.line.accuracy<min_zoom&&(h.__cvs_mark_opts.x.line.accuracy=min_zoom,h.__cvs_mark_opts.y.line.accuracy=min_zoom)),x_accuracy===h.__cvs_mark_opts.x.line.accuracy&&h.__cvs_mark_opts.y.line.accuracy===y_accuracy||(clearTimeout(timer),h.__update_animate_flag=!1,h.__timers.forEach(t=>window.cancelAnimationFrame(t)),h.__timers.splice(0,h.__timers.length),x_accuracy=h.__cvs_mark_opts.x.line.accuracy,y_accuracy=h.__cvs_mark_opts.y.line.accuracy,h.Clear(),h.SetBackground(),h.DrawAxis(),h.DrawMark(posX,posY,pos_x_line,pos_y_line),timer=setTimeout(function(){h.__update_animate_flag=!0,h.RePrint()},100))}function t(){clearTimeout(timer),h.__cvs.width=h.__sync_ele.offsetWidth||window.innerWidth,h.__cvs.height=h.__sync_ele.offsetHeight||window.innerHeight,h.__cvs_wdt=h.__sync_ele.offsetWidth||window.innerWidth,h.__cvs_hgt=h.__sync_ele.offsetHeight||window.innerHeight,h.__update_animate_flag=!1,h.Clear(),h.SetBackground(),h.DrawAxis(),h.DrawMark(posX,posY,pos_x_line,pos_y_line),timer=setTimeout(function(){h.__update_animate_flag=!0,h.RePrint()},100)}return h.__sync_ele&&h.__sync_ele.addEventListener("resize",t,{capture:!1}),this.__events_opts.forEach(function(t){switch(t){case"draw":h.__cvs.addEventListener(h.__event_type?"touchstart":"mousedown",_,{capture:!1}),h.__cvs.addEventListener(h.__event_type?"touchmove":"mousemove",i,{capture:!1}),window.addEventListener(h.__event_type?"touchend":"mouseup",e,{capture:!1});break;case"zoom":h.__cvs.addEventListener("mousewheel",o,{capture:!1})}}),{destory:function(){h.__cvs.removeEventListener(h.__event_type?"touchstart":"mousedown",_),h.__cvs.removeEventListener(h.__event_type?"touchmove":"mousedown",i),h.__cvs.removeEventListener("mousewheel",o),h.__cvs.removeEventListener("mousedown",i),h.__sync_ele&&h.__sync_ele.removeEventListener("resize",t),window.removeEventListener(h.__event_type?"touchend":"mouseup",e)},change:function(){let t=!1;return function(){h.__cvs.removeEventListener(h.__event_type?"touchstart":"mousedown",_),h.__cvs.removeEventListener(h.__event_type?"touchmove":"mousedown",i),window.removeEventListener(h.__event_type?"touchend":"mouseup",e),h.__cvs.removeEventListener("mousedown",i),t?(select_point={scale:!1,radius:radius,value:{}},select_point.key=select_point.index=null,showTip&&(child_element.style.opacity=0,child_element.style.visibility="hidden"),h.__cvs.addEventListener(h.__event_type?"touchstart":"mousedown",_,{capture:!1}),h.__cvs.addEventListener(h.__event_type?"touchmove":"mousemove",i,{capture:!1}),window.addEventListener(h.__event_type?"touchend":"mouseup",e,{capture:!1})):h.__cvs.addEventListener("mousedown",i,{capture:!1}),t=!t}}()}},t.prototype.Destory=function(){this.__event_turn_off.destory(),this.__update_animate_flag=!1,this.__timers.forEach(function(t){window.cancelAnimationFrame(t)}),this.__timers.splice(0,this.__timers.length),this.Clear(),setTimeout(()=>this.__cvs=this.__ctx=null)},t.prototype.ChangeTouch=function(){this.__event_type&&this.__event_turn_off.change()},t.prototype.Init=function(t,_){if(!(t instanceof HTMLCanvasElement))throw"Invaild Canvas Element";this.ParseParams(_),this.__cvs=t,this.__ctx=t.getContext("2d"),this.__cvs_wdt=t.offsetWidth,this.__cvs_hgt=t.offsetHeight,this.__start_point=[parseInt(t.offsetWidth/2),parseInt(t.offsetHeight/2)],this.__start_point_values=[0,0],this.__maximum_point={x:[0,0],y:[0,0]},this.__function_list={},this.__animate_id=null,this.__cache_time=0,this.__animate_queue=[],this.__fn_points_list={},this.__offset_move={x:0,y:0},this.__offset_pos={x:0,y:0},this.__update_animate_flag=!0,this.__timers=[],this.__key_queue=[],this.__event_type="ontouchstart"in document.documentElement,this.SetBackground(),this.DrawAxis(),this.DrawMark(0,0,this.__cvs_mark_opts.x.line.width,this.__cvs_mark_opts.y.line.width),this.__event_turn_off=this.BindEvent()},t});