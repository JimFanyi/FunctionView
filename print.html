<html xmlns:v-on="http://www.w3.org/1999/xhtml">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<!-- 移动端自适应 -->
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<meta name="theme-color" content="#000000">
		<link href="public/css/bootstrap.min.css" rel="stylesheet">
		<link href="public/css/style.css" rel="stylesheet">
		<link href="public/css/bootstrap.font.css" rel="stylesheet">
		<title></title>
		<style type="text/css">
			* {
				margin: 0px;
				padding: 0px;
			}

			html,
			body {
				width: 100%;
				height: 100%;
			}
		</style>
		<title>函数图像绘图工具</title>
	</head>
	<body>

		<div id = "app">
			<noscript>
				本工具运行需要JavaScript支持，请不要从QQ中打开该链接，可以尝试：<br>
				1.从浏览器中打开<br>
				2.从微信中打开<br>
			</noscript>
			<h1>函数图像绘制工具</h1>


			<!--函数输入-->
			<div id="function_box">
				<div class="row" id="function_item" v-for="(fun, index) in func_list">
					<div class="col">
						<div class="card func-card" id="function_detail">
							<button type="button" class="btn-close" aria-label="Close" id="close_button"
									v-on:click="del_fuction(index)"></button>
							<select class="form-select mb-3" aria-label="Default select example" v-model="fun.fnType">
								<option value="normal_explicit">普通函数（显函数）</option>
								<option value="normal_implicit">普通函数（隐函数）</option>
								<option value="polar">极坐标方程</option>
								<option value="parametric">参数方程</option>
								<option value="point">数据点</option>
								<option value="haveparam" disabled>有参函数</option>
								<option value="integral" disabled>积分</option>
								<option value="differential" disabled>微分</option>
							</select>

							<!-- 普通函数 -->
							<div v-if="fun.fnType === 'normal_explicit' || fun.fnType === 'normal_implicit'">
								<div class="accordion mb-3" id="accordionExample">
									<div class="accordion-item">
										<h2 class="accordion-header" v-bind:id="'heading1_' + index">
											<div class="input-group">
                                                <span class="input-group-text" id="basic-addon1"
													  v-if="fun.fnType === 'normal_explicit'">y(x) = </span>
												<span class="input-group-text" id="basic-addon1"
													  v-if="fun.fnType === 'normal_implicit'">0 = </span>
												<input type="text" class="form-control" id="fun_normal"
													   placeholder="请输入函数" v-model="fun.fn" v-bind:ref="'f_'+index">
												<button class="btn btn-outline-primary" type="button"
														data-bs-toggle="collapse" v-bind:data-bs-target="'#collapse1_' + index"
														aria-expanded="false" v-bind:aria-controls="'collapse1_' + index">
													键盘
												</button>
											</div>
										</h2>
										<div v-bind:id="'collapse1_' + index" class="accordion-collapse collapse"
											 v-bind:aria-labelledby="'heading1_' + index" data-bs-parent="#accordionExample">
											<div class="accordion-body">

												<div class="row align-items-start">
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('+', index, 'f_'+index, 1, 'fn')">+</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('-', index, 'f_'+index, 1, 'fn')">-</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('*', index, 'f_'+index, 1, 'fn')">*</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('/', index, 'f_'+index, 1, 'fn')">/</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('7', index, 'f_'+index, 1, 'fn')">7</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('8', index, 'f_'+index, 1, 'fn')">8</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('9', index, 'f_'+index, 1, 'fn')">9</button>
													</div>
												</div>

												<div class="row align-items-start">
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('(', index, 'f_'+index, 1, 'fn')">(</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard(')', index, 'f_'+index, 1, 'fn')">)</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('^', index, 'f_'+index, 1, 'fn')">^</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('|', index, 'f_'+index, 1, 'fn')">|</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('4', index, 'f_'+index, 1, 'fn')">4</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('5', index, 'f_'+index, 1, 'fn')">5</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('6', index, 'f_'+index, 1, 'fn')">6</button>
													</div>
												</div>

												<div class="row align-items-start">
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('x', index, 'f_'+index, 1, 'fn')">x</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('y', index, 'f_'+index, 1, 'fn')">y</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('t', index, 'f_'+index, 1, 'fn')">t</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('θ', index, 'f_'+index, 1, 'fn')">θ</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('1', index, 'f_'+index, 1, 'fn')">1</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('2', index, 'f_'+index, 1, 'fn')">2</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('3', index, 'f_'+index, 1, 'fn')">3</button>
													</div>
												</div>

												<div class="row align-items-start">
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('sqrt()', index, 'f_'+index, 5, 'fn')">sqrt</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('ln()', index, 'f_'+index, 3, 'fn')">ln</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('log()()', index, 'f_'+index, 4, 'fn')">log</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('0', index, 'f_'+index, 1, 'fn')">0</button>
													</div>

													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('.', index, 'f_'+index, 1, 'fn')">.</button>
													</div>
												</div>

												<div class="row align-items-start">
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('sin()', index, 'f_'+index, 4, 'fn')">sin</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('cos()', index, 'f_'+index, 4, 'fn')">cos</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('tan()', index, 'f_'+index, 4, 'fn')">tan</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('e', index, 'f_'+index, 1, 'fn')">e</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('π', index, 'f_'+index, 1, 'fn')">π</button>
													</div>
												</div>

												<div class="row align-items-start">
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('arcsin()', index, 'f_'+index, 7, 'fn')">arcsin</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('arccos()', index, 'f_'+index, 7, 'fn')">arccos</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('arctan()', index, 'f_'+index, 7, 'fn')">arctan</button>
													</div>

													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="keyboard_delete(index, 'f_'+index, 'fn')">删除</button>
													</div>
												</div>

												<div class="row align-items-start">
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('', index, 'f_'+index, -1, 'fn')">
															<i class="bi bi-caret-left-fill"></i>
														</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard(' ', index, 'f_'+index, 1, 'fn')">空格</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('', index, 'f_'+index, 1, 'fn')">
															<i class="bi bi-caret-right-fill"></i>
														</button>
													</div>
												</div>

											</div>
										</div>
									</div>
								</div>
							</div>

							<!-- 极坐标函数 -->
							<div v-if="fun.fnType === 'polar'">
								<div class="accordion mb-3" id="accordionExample">
									<div class="accordion-item">
										<h2 class="accordion-header" v-bind:id="'heading2_' + index">
											<div class="input-group">
												<span class="input-group-text" id="basic-addon1">r(θ) = </span>
												<input type="text" class="form-control" id="fun_normal_polar"
													   placeholder="请输入函数" v-model="fun.fn_polar"
													   v-bind:ref="'polar_'+index">
												<button class="btn btn-outline-primary" type="button"
														data-bs-toggle="collapse" v-bind:data-bs-target="'#collapse1_' + index"
														aria-expanded="false" v-bind:aria-controls="'collapse1_' + index">
													键盘
												</button>
											</div>
										</h2>
										<div v-bind:id="'collapse1_' + index" class="accordion-collapse collapse"
											 v-bind:aria-labelledby="'heading2_' + index" data-bs-parent="#accordionExample">
											<div class="accordion-body">

												<div class="row align-items-start">
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('+', index, 'polar_'+index, 1, 'fn_polar')">+</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('-', index, 'polar_'+index, 1, 'fn_polar')">-</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('*', index, 'polar_'+index, 1, 'fn_polar')">*</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('/', index, 'polar_'+index, 1, 'fn_polar')">/</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('7', index, 'polar_'+index, 1, 'fn_polar')">7</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('8', index, 'polar_'+index, 1, 'fn_polar')">8</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('9', index, 'polar_'+index, 1, 'fn_polar')">9</button>
													</div>
												</div>

												<div class="row align-items-start">
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('(', index, 'polar_'+index, 1, 'fn_polar')">(</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard(')', index, 'polar_'+index, 1, 'fn_polar')">)</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('^', index, 'polar_'+index, 1, 'fn_polar')">^</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('|', index, 'polar_'+index, 1, 'fn_polar')">|</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('4', index, 'polar_'+index, 1, 'fn_polar')">4</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('5', index, 'polar_'+index, 1, 'fn_polar')">5</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('6', index, 'polar_'+index, 1, 'fn_polar')">6</button>
													</div>
												</div>

												<div class="row align-items-start">
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('x', index, 'polar_'+index, 1, 'fn_polar')">x</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('y', index, 'polar_'+index, 1, 'fn_polar')">y</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('t', index, 'polar_'+index, 1, 'fn_polar')">t</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('θ', index, 'polar_'+index, 1, 'fn_polar')">θ</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('1', index, 'polar_'+index, 1, 'fn_polar')">1</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('2', index, 'polar_'+index, 1, 'fn_polar')">2</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('3', index, 'polar_'+index, 1, 'fn_polar')">3</button>
													</div>
												</div>

												<div class="row align-items-start">
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('sqrt()', index, 'polar_'+index, 5, 'fn_polar')">sqrt</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('ln()', index, 'polar_'+index, 3, 'fn_polar')">ln</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('log()()', index, 'polar_'+index, 4, 'fn_polar')">log</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('0', index, 'polar_'+index, 1, 'fn_polar')">0</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('.', index, 'polar_'+index, 1, 'fn_polar')">.</button>
													</div>
												</div>

												<div class="row align-items-start">
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('sin()', index, 'polar_'+index, 4, 'fn_polar')">sin</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('cos()', index, 'polar_'+index, 4, 'fn_polar')">cos</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('tan()', index, 'polar_'+index, 4, 'fn_polar')">tan</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('e', index, 'polar_'+index, 1, 'fn_polar')">e</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('π', index, 'polar_'+index, 1, 'fn_polar')">π</button>
													</div>
												</div>

												<div class="row align-items-start">
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('arcsin()', index, 'polar_'+index, 7, 'fn_polar')">arcsin</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('arccos()', index, 'polar_'+index, 7, 'fn_polar')">arccos</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('arctan()', index, 'polar_'+index, 7, 'fn_polar')">arctan</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="keyboard_delete(index, 'polar_'+index, 'fn_polar')">删除</button>
													</div>
												</div>

												<div class="row align-items-start">
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('', index, 'polar_'+index, -1, 'fn_polar')">
															<i class="bi bi-caret-left-fill"></i>
														</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard(' ', index, 'polar_'+index, 1, 'fn_polar')">空格</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('', index, 'polar_'+index, 1, 'fn_polar')">
															<i class="bi bi-caret-right-fill"></i>
														</button>
													</div>
												</div>

											</div>
										</div>
									</div>
								</div>
							</div>


							<!-- 参数方程 -->
							<div v-if="fun.fnType === 'parametric'">
								<div class="accordion mb-3" id="accordionExample">
									<div class="accordion-item">
										<h2 class="accordion-header" v-bind:id="'heading3_' + index">
											<div class="input-group">
												<span class="input-group-text" id="basic-addon2">x(t) = </span>
												<input type="text" class="form-control" id="fun_parametric_x"
													   placeholder="请输入函数" v-model="fun.parametric_fn_x"
													   v-bind:ref="'f_x_'+index">
												<button class="btn btn-outline-primary" type="button"
														data-bs-toggle="collapse" v-bind:data-bs-target="'#collapse3_' + index"
														aria-expanded="false" v-bind:aria-controls="'collapse3_' + index">
													键盘
												</button>
											</div>
										</h2>
										<div v-bind:id="'collapse3_' + index" class="accordion-collapse collapse"
											 v-bind:aria-labelledby="'heading3_' + index" data-bs-parent="#accordionExample">
											<div class="accordion-body">

												<div class="row align-items-start">
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('+', index, 'f_x_'+index, 1, 'parametric_fn_x')">+</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('-', index, 'f_x_'+index, 1, 'parametric_fn_x')">-</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('*', index, 'f_x_'+index, 1, 'parametric_fn_x')">*</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('/', index, 'f_x_'+index, 1, 'parametric_fn_x')">/</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('7', index, 'f_x_'+index, 1, 'parametric_fn_x')">7</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('8', index, 'f_x_'+index, 1, 'parametric_fn_x')">8</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('9', index, 'f_x_'+index, 1, 'parametric_fn_x')">9</button>
													</div>
												</div>

												<div class="row align-items-start">
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('(', index, 'f_x_'+index, 1, 'parametric_fn_x')">(</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard(')', index, 'f_x_'+index, 1, 'parametric_fn_x')">)</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('^', index, 'f_x_'+index, 1, 'parametric_fn_x')">^</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('|', index, 'f_x_'+index, 1, 'parametric_fn_x')">|</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('4', index, 'f_x_'+index, 1, 'parametric_fn_x')">4</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('5', index, 'f_x_'+index, 1, 'parametric_fn_x')">5</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('6', index, 'f_x_'+index, 1, 'parametric_fn_x')">6</button>
													</div>
												</div>

												<div class="row align-items-start">
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('x', index, 'f_x_'+index, 1, 'parametric_fn_x')">x</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('y', index, 'f_x_'+index, 1, 'parametric_fn_x')">y</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('t', index, 'f_x_'+index, 1, 'parametric_fn_x')">t</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('θ', index, 'f_x_'+index, 1, 'parametric_fn_x')">θ</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('1', index, 'f_x_'+index, 1, 'parametric_fn_x')">1</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('2', index, 'f_x_'+index, 1, 'parametric_fn_x')">2</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('3', index, 'f_x_'+index, 1, 'parametric_fn_x')">3</button>
													</div>
												</div>

												<div class="row align-items-start">
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('sqrt()', index, 'f_x_'+index, 5, 'parametric_fn_x')">sqrt</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('ln()', index, 'f_x_'+index, 3, 'parametric_fn_x')">ln</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('log()()', index, 'f_x_'+index, 4, 'parametric_fn_x')">log</button>
													</div>

													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('0', index, 'f_x_'+index, 1, 'parametric_fn_x')">0</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('.', index, 'f_x_'+index, 1, 'parametric_fn_x')">.</button>
													</div>
												</div>

												<div class="row align-items-start">
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('sin()', index, 'f_x_'+index, 4, 'parametric_fn_x')">sin</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('cos()', index, 'f_x_'+index, 4, 'parametric_fn_x')">cos</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('tan()', index, 'f_x_'+index, 4, 'parametric_fn_x')">tan</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('e', index, 'f_x_'+index, 1, 'parametric_fn_x')">e</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('π', index, 'f_x_'+index, 1, 'parametric_fn_x')">π</button>
													</div>
												</div>

												<div class="row align-items-start">
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('arcsin()', index, 'f_x_'+index, 7, 'parametric_fn_x')">arcsin</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('arccos()', index, 'f_x_'+index, 7, 'parametric_fn_x')">arccos</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('arctan()', index, 'f_x_'+index, 7, 'parametric_fn_x')">arctan</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="keyboard_delete(index, 'f_x_'+index, 'parametric_fn_x')">删除</button>
													</div>
												</div>

												<div class="row align-items-start">
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('', index, 'f_x_'+index, -1, 'parametric_fn_x')">
															<i class="bi bi-caret-left-fill"></i>
														</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard(' ', index, 'f_x_'+index, 1, 'parametric_fn_x')">空格</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('', index, 'f_x_'+index, 1, 'parametric_fn_x')">
															<i class="bi bi-caret-right-fill"></i>
														</button>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>

								<div class="accordion mb-3" id="accordionExample">
									<div class="accordion-item">
										<h2 class="accordion-header" v-bind:id="'heading4_' + index">
											<div class="input-group">
												<span class="input-group-text" id="basic-addon3">y(t) = </span>
												<input type="text" class="form-control" id="fun_parametric_y"
													   placeholder="请输入函数" v-model="fun.parametric_fn_y"
													   v-bind:ref="'f_y_'+index">
												<button class="btn btn-outline-primary" type="button"
														data-bs-toggle="collapse" v-bind:data-bs-target="'#collapse4_' + index"
														aria-expanded="false" v-bind:aria-controls="'collapse4_' + index">
													键盘
												</button>
											</div>
										</h2>
										<div v-bind:id="'collapse4_' + index" class="accordion-collapse collapse"
											 v-bind:aria-labelledby="'heading4_' + index" data-bs-parent="#accordionExample">
											<div class="accordion-body">

												<div class="row align-items-start">
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('+', index, 'f_y_'+index, 1, 'parametric_fn_y')">+</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('-', index, 'f_y_'+index, 1, 'parametric_fn_y')">-</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('*', index, 'f_y_'+index, 1, 'parametric_fn_y')">*</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('/', index, 'f_y_'+index, 1, 'parametric_fn_y')">/</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('7', index, 'f_y_'+index, 1, 'parametric_fn_y')">7</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('8', index, 'f_y_'+index, 1, 'parametric_fn_y')">8</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('9', index, 'f_y_'+index, 1, 'parametric_fn_y')">9</button>
													</div>
												</div>

												<div class="row align-items-start">
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('(', index, 'f_y_'+index, 1, 'parametric_fn_y')">(</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard(')', index, 'f_y_'+index, 1, 'parametric_fn_y')">)</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('^', index, 'f_y_'+index, 1, 'parametric_fn_y')">^</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('|', index, 'f_y_'+index, 1, 'parametric_fn_y')">|</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('4', index, 'f_y_'+index, 1, 'parametric_fn_y')">4</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('5', index, 'f_y_'+index, 1, 'parametric_fn_y')">5</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('6', index, 'f_y_'+index, 1, 'parametric_fn_y')">6</button>
													</div>
												</div>

												<div class="row align-items-start">
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('x', index, 'f_y_'+index, 1, 'parametric_fn_y')">x</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('y', index, 'f_y_'+index, 1, 'parametric_fn_y')">y</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('t', index, 'f_y_'+index, 1, 'parametric_fn_y')">t</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('θ', index, 'f_y_'+index, 1, 'parametric_fn_y')">θ</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('1', index, 'f_y_'+index, 1, 'parametric_fn_y')">1</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('2', index, 'f_y_'+index, 1, 'parametric_fn_y')">2</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('3', index, 'f_y_'+index, 1, 'parametric_fn_y')">3</button>
													</div>
												</div>

												<div class="row align-items-start">
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('sqrt()', index, 'f_y_'+index, 5, 'parametric_fn_y')">sqrt</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('ln()', index, 'f_y_'+index, 3, 'parametric_fn_y')">ln</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('log()()', index, 'f_y_'+index, 4, 'parametric_fn_y')">log</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('0', index, 'f_y_'+index, 1, 'parametric_fn_y')">0</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('.', index, 'f_y_'+index, 1, 'parametric_fn_y')">.</button>
													</div>
												</div>

												<div class="row align-items-start">
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('sin()', index, 'f_y_'+index, 4, 'parametric_fn_y')">sin</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('cos()', index, 'f_y_'+index, 4, 'parametric_fn_y')">cos</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('tan()', index, 'f_y_'+index, 4, 'parametric_fn_y')">tan</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('e', index, 'f_y_'+index, 1, 'parametric_fn_y')">e</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('π', index, 'f_y_'+index, 1, 'parametric_fn_y')">π</button>
													</div>
												</div>

												<div class="row align-items-start">
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('arcsin()', index, 'f_y_'+index, 7, 'parametric_fn_y')">arcsin</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('arccos()', index, 'f_y_'+index, 7, 'parametric_fn_y')">arccos</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('arctan()', index, 'f_y_'+index, 7, 'parametric_fn_y')">arctan</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="keyboard_delete(index, 'f_y_'+index, 'parametric_fn_y')">删除</button>
													</div>
												</div>

												<div class="row align-items-start">
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('', index, 'f_y_'+index, -1, 'parametric_fn_y')">
															<i class="bi bi-caret-left-fill"></i>
														</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard(' ', index, 'f_y_'+index, 1, 'parametric_fn_y')">空格</button>
													</div>
													<div class="col grid_btn d-grid">
														<button type="button" class="btn btn-outline-primary"
																v-on:click="click_keyboard('', index, 'f_y_'+index, 1, 'parametric_fn_y')">
															<i class="bi bi-caret-right-fill"></i>
														</button>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>




								<div class="input-group mb-3">
									<input type="number" class="form-control" aria-label="min_t"
										   v-model="fun.parametric_min_t">
									<span class="input-group-text">π</span>
									<span class="input-group-text">&lt; t &lt;</span>
									<input type="number" class="form-control" aria-label="max_t"
										   v-model="fun.parametric_max_t">
									<span class="input-group-text">π</span>
								</div>
							</div>

							<!-- 数据点 -->
							<div v-if="fun.fnType === 'point'">
								<div class="input-group mb-3">
									<span class="input-group-text">(</span>
									<input type="number" class="form-control" aria-label="point_x"
										   v-model="fun.point_x">
									<span class="input-group-text">,</span>
									<input type="number" class="form-control" aria-label="point_y"
										   v-model="fun.point_y">
									<span class="input-group-text">)</span>
								</div>
							</div>

							<!-- 有参函数 -->

							<!-- 积分 -->

							<!-- 微分 -->


						</div>
					</div>
				</div>
		</div>
		<script src="FunctionPrinter.min.js" type="text/javascript" charset="utf-8"></script>
		<div id="parent" style="width:100%;height:100%;pointer-events:all;">
			<canvas id="cvs" width="800" height="800"></canvas>
		</div>
		<script type="text/javascript">
			document.querySelector('#cvs').width = document.querySelector('#cvs').parentElement.offsetWidth
			document.querySelector('#cvs').height = document.querySelector('#cvs').parentElement.offsetHeight



			const fcp = new FunctionPrinter(document.querySelector("#cvs"), {
				events: ['draw', 'zoom', 'showtip'],
				mark: {
					x: { // 针对于x轴，如果是y轴则为y 参数保持一致
						line: {
							accuracy: 30, // 每一个刻度之间相隔的距离 (单位:px)
							lineWidth: 1, // 标注刻度的粗细
							width: 10, // 对于x轴来说即标注刻度线段的高度，对于y来说则为宽度
							color: 'black' // 刻度颜色 这个颜色可以是rgba或者十六进制颜色或者是canvas颜	色渐变类
						},
						font: {
							size: 14,
							weight: 1,
							color:'#303133',
							weight:1.2
						},
						accuracy: 1
					},
					y: { // 针对于x轴，如果是y轴则为y 参数保持一致
						line: {
							accuracy: 30, // 每一个刻度之间相隔的距离 (单位:px)
							lineWidth: 1, // 标注刻度的粗细
							width: 10, // 对于x轴来说即标注刻度线段的高度，对于y来说则为宽度
							color: 'black' // 刻度颜色 这个颜色可以是rgba或者十六进制颜色或者是canvas颜	色渐变类
						},
						font: {
							size: 14,
							weight: 1,
							color:'#303133',
							weight:1.2
						},
						accuracy: 1
					}
				},
				zoom: { // 缩放控制参数
					max: 50, // 缩小程度最低值 d- 0
					min: 10, // 放大程度最大值 d- 0
					accuracy: 10 // 每次缩放增加或减少的步长
				},
				points: {
					size: 3,
					solid: 0
				},
				axis:{ // 轴样式配置和mark参数一样，有x和y两个参数
						x:{ // x轴样式
							color: 'black', // 轴线段的颜色 d- '#000000'
							lineWidth: 1.2 // 轴线段的粗细 d- 1.5 
						},
						y:{ // y轴样式
							color: 'black', // 轴线段的颜色 d- '#000000'
							lineWidth: 1.2 // 轴线段的粗细 d- 1.5 
						}									
					},
				tipline: { // 轴线标识参数
					color: 'auto', // 线段颜色,可以指定颜色也可以选择auto自适应颜色 d- auto
					type: 'dotted', // 线段的种类。目前提供的有两种分别是 dotted：虚线 chain：点划线。也可以自定义配置见下文说明 d- [4,2]
					width: 3, // 线段粗细 d- 3
					animate: 1 // 是否开启动画 d- false
				},
				accuracy: 0.1,
				backgroundColor:'#f3f4f6',
				samePointTimeOut:1800 // 相同点延时时间切换
			})


			fcp.DrawFunction('y=2x+3', (x) => {
				return 2 * x + 2
			}, -1, '#fa3534', null, 1, (x, y) => {
				// console.log(x)
				if (Number.isInteger(x)) {
					return true
				}
			}, (key, color, x, y) => {
				return {
					key: key,
					x,
					y,
					color
				}
			})
			

			
			fcp.DrawFunction('y=5^x', function(x) {
				return Math.pow(0.2,x)
			}, 'queue', '#ff9900', null, 1, (x, y) => {
				if (Number.isInteger(x)) {
					return true
				}
			}, (key, color, x, y) => {
				return {
					key,
					x,
					y,
					color
				}
			})
			
			fcp.DrawFunction('y=-2x^2+3x+10', (x) => {
				return -2 * x * x + 3 * x + 10
			}, 'middle', '#19be6b', null, 1, (x, y) => {
				if (Number.isInteger(x)) {
					return true
				}
			}, (key, color, x, y) => {
				return {
					key: key,
					x,
					y,
					color
				}
			})

			fcp.DrawFunction('y=log(x)', function(x) {
				return Math.log(x)
			}, 'queue', '#2b85e4', null, 1, (x, y) => {
				if (Number.isInteger(x)) {
					return true
				}
			}, (key, color, x, y) => {
				return {
					key,
					x,
					y,
					color
				}
			})
			
			
			
		</script>
	</body>
</html>
